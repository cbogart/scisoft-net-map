{% extends "app_base.jinja2" %}

{% block head %}
  {{ super() }}
  <link href="{{request.static_url('snmweb:static/css/lib/nv.d3.css')}}" rel="stylesheet">
  <style>
  /*TODO: move to a separate css file*/
    .node {
      stroke: #fff;
      stroke-width: 1.5px;
    }

    .link {
      fill: none;
      stroke: #bbb;
    }

    #chart {
      width: 100%;
      height: 400px;
    }

  </style>
{% endblock %}

{% block js %}
  {{ super() }}
  <script src="{{request.static_url('snmweb:static/js/lib/d3.js')}}"></script>
  <script src="{{request.static_url('snmweb:static/js/force-chart.js')}}"></script>
  <script>
      var force_chart = vizForceChart($("#chart"));
      force_chart.start(app_id);
  </script>
{% endblock %}

{% block details %}
  <h2>Application dependencies</h2>
<div class="panel-body">
  <ul class="nav nav-tabs" role="tablist" id="myTab">
    <li class="active"><a href="#chart-wrapper" role="tab" data-toggle="tab">Chart</a></li>
    <li><a href="#graph-desc-wrapper" role="tab" data-toggle="tab">
      Chart description
    </a></li>
  </ul>

  <div class="tab-content">
    <div id="chart-wrapper" class="tab-pane active">
      <div id="chart">
        <svg></svg>
      </div>
    </div>
    <div id="graph-desc-wrapper" class="tab-pane">
      <h4>Description</h4>
      Each node represents an application.Link between nodes shows that these
      applications happened to be in the same working session. For example,
      in order to achieve his or her result researcher had to run application
      A then process results with application B and then C,
      meaning A was used with B and C.
    </div>
  </div>
</div>
{% endblock %}
